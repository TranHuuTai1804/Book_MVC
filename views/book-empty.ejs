<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Empty</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Abel&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/bookempty.css" />
  </head>
  <body>
    <!-- Include Header Partial -->
    <%- include('partials/header') %>

    <!-- Block Book Entry Form -->
    <div class="book-entry-form">
      <h2>Book Entry Form</h2>
    </div>

    <!-- Tiêu đề Date -->
    <div class="date">
      <h3>Date:</h3>
      <div class="date-picker">
        <input
          type="text"
          id="date-receipt"
          placeholder="Select Date"
          readonly
        />
      </div>
    </div>

    <div class="regulation-info">
      <h3>Regulations</h3>
      <div>
        <p>
          Minimal Inputs:
          <span id="min-import">10</span>
        </p>
        <p>
          Minimal Stocks:
          <span id="min-stock">5</span>
        </p>
      </div>
      <a href="/edit" class="edit-btn">
        <img src="img/edit.png" alt="Edit Regulations" />
      </a>
    </div>

    <!-- Bảng -->
    <div class="date-section">
      <form method="POST" action="/addBook">
        <table class="table-container">
          <thead>
            <tr>
              <th>Book</th>
              <th>Category</th>
              <th>Author</th>
              <th>Quantity</th>
              <th>Price</th>
              <th>Remains</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="table-body">
            <tr class="table-row">
              <td class="nameBook">
                <input
                  type="text"
                  name="name[]"
                  placeholder="Book name"
                  class="book-name"
                  oninput="showSuggestions(this)"
                  required
                />
                <div
                  class="autocomplete-suggestions"
                  style="display: none"
                ></div>
              </td>
              <td>
                <input
                  type="text"
                  name="category[]"
                  placeholder="Category"
                  class="book-category"
                  required
                />
              </td>
              <td>
                <input
                  type="text"
                  name="author[]"
                  placeholder="Author"
                  class="book-author"
                  required
                />
              </td>
              <td>
                <input
                  type="number"
                  name="quantity[]"
                  placeholder="Quantity"
                  class="book-quantity"
                  min="1"
                  required
                  data-regulation
                />
              </td>
              <td>
                <input
                  type="number"
                  name="price[]"
                  placeholder="Price"
                  class="book-price"
                  step="0.01"
                  min="0"
                  required
                />
              </td>
              <td>
                <input
                  type="number"
                  name="remains[]"
                  placeholder="Remains"
                  class="book-remains"
                />
              </td>
              <td>
                <input
                  type="text"
                  name="status[]"
                  placeholder="Status"
                  class="book-status"
                />
              </td>
              <td class="delete-cell">
                <img
                  src="img/delete.png"
                  alt="Delete"
                  class="delete-btn"
                  onclick="deleteRowDetail(this)"
                  style="cursor: pointer; width: 20px; height: 20px"
                />
              </td>
            </tr>
          </tbody>
        </table>
        <button type="button" class="add-row-btn" onclick="addRow()">+</button>
        <button
          type="button"
          class="add-row-btn delete-row"
          onclick="deleteRow()"
        >
          -
        </button>
        <button type="submit" class="done-btn" id="doneButton">Done</button>
      </form>
    </div>

    <h3 class="suggestion-title">Suggestions</h3>
    <div class="book-container">
      <!-- Sách sẽ được chèn động từ JavaScript -->
    </div>

    <button class="open-menu" onclick="toggleMenu()">></button>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- Menu Section -->
    <div id="hero-menu" class="menu-ovl" style="display: none">
      <button><a href="/bookempty">Book Entry Form</a></button>
      <button><a href="/bookinvoice">Book Invoice</a></button>
      <button><a href="/lookup">Book Lookup</a></button>
      <button><a href="/receipts">Receipt</a></button>
      <button><a href="/report">Monthly Report</a></button>
      <button><a href="/edit">Edit Regulations</a></button>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script src="/js/bookempty.js"></script>
</html>
